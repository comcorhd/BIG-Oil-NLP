1 INTRODUÇÃO Incidentes ambientais acontecem frequentemente, desde aqueles causados naturalmente até aqueles relacionados à atividade humana (IBAMA, 2014). A exploração de petróleo, por exemplo, é uma atividade em constante crescimento, incentivada pelo aumento mundial do consumo desta substância e de seus derivados.
Tal crescimento incentiva a descoberta e exploração de novos campos petrolíferos, sendo os mesmos responsáveis pelo aumento da produção e do transporte marítimo, fator que eleva o risco de incidentes com óleo (MARINHO, 2012).
Em diversos tipos de incidentes ambientais, o tempo é um fator crucial para a minimização dos impactos ambientais. Em incêndios florestais, o fogo deve ser rapidamente combatido de modo a diminuir os impactos ambientais dos mesmos. Vale ressaltar que, grandes incêndios florestais são considerados de grande ameaça para a conservação da biodiversidade e manutenção de processos ecológicos (BRILHANTE, 2004).
Há também os problemas relacionados ao desmatamento ilegal, o Brasil é um país com abundante riqueza natural. O País tem o maior bioma de floresta úmida do mundo, a Amazônia, que contém de longe a maior parcela das florestas úmidas remanescentes.
Seu valor global pode ser visto em sua rica biodiversidade e no possível impacto climático decorrente de seu desaparecimento. A floresta amazônica enfrenta uma grande gama de desafios, incluindo dificuldades para controlar desmatamentos e queimadas (MARGULIS, 2003). Um dos principais fatores que impulsionam o desmatamento ilegal na Amazônia é a ineficiência da fiscalização da região, dada a sua vastidão geográfica aliada à histórica falta de recursos e indivíduos capacitados nos órgãos federais e estaduais (MOUTINHO, 2009).
Ainda relacionado à vastidão geográfica, a Amazônia não é a única região que sofre com a falta de fiscalização. A costa brasileira conta com aproximadamente 8.500 km de litoral, toda essa área representa uma região complexa, onde múltiplas atividades econômicas são desenvolvidas (JUNIOR, 2006). Ao analisar as informações relacionadas às emergências atendidas pela CETESB (Companhia de Tecnologia e Saneamento Ambiental), órgão ambiental estadual de São Paulo, é possível notar que há o registro de diversos incidentes ambientais relacionados ao descarte de substâncias oleosas em águas marinhas, tais descartes podem ser provenientes das mais diversas fontes, tanto terrestres, quanto de embarcações e na maioria das vezes, a identificação do responsável é uma tarefa de difícil conclusão. No caso das ocorrências registradas pela CETESB, os números não correspondem à realidade. Visto que, segundo o próprio órgão, o número de casos deve ser maior do que o número de ocorrências em que a CETESB foi acionada (CETESB, 2014).
Dado o cenário atual, é possível assumir que a falta de fiscalização é um fato, assim como a importância da velocidade no combate a incidentes ambientais, de modo a mitigar os danos relacionados a esses incidentes. Sendo assim, o aumento na fiscalização poderia contribuir de forma extraordinária a preservação do meio ambiente.
Dado que, mesmo em proporções insuficientes, melhoras na fiscalização contribuíram para a contenção do avanço da degradação florestal na Amazônia (MOUTINHO, 2009), por exemplo.
fiscalização Também, percebemos que embora a realizada por órgãos governamentais seja uma ação benéfica ao meio ambiente, ela acaba gerando grandes custos a essas organizações. Porém, o meio ambiente é um bem de todos os cidadãos, nas palavras de Ronaldo Maia Kauffmann (1991, p.246): ―Nos últimos anos, o mundo inteiro tem voltado suas atenções para os problemas ecológicos, o meio ambiente, os recursos naturais; enfim, tudo aquilo que se relaciona com a proteção da vida em todas as suas formas existentes no planeta.".
Sendo assim, é possível a elaboração de um serviço de sensoriamento participativo com o objetivo de auxiliar a fiscalização ambiental. Esse serviço poderá ser utilizado por todo e qualquer cidadão que tenha um smartphone ou tablet, proporcionando um grande volume de usuários espalhados por todo o país a baixo custo, uma vez que os usuários contribuem voluntariamente com o seu esforço e tempo.
O smartphone tornou-se o dispositivo computacional pessoal mais amplamente adotado e onipresente (KRUMM, 2009). De acordo com os dados da IDC, o Brasil terminou 2013 como o quarto maior consumidor de smartphones, com um pouco mais de 35 milhões de unidades vendidas, ficando atrás apenas de China, Estados Unidos e Índia, respectivamente, fato que comprova a grande aceitação dessa tecnologia por parte dos brasileiros.
O público dessa rede contará com diferentes níveis de entendimento a respeito do meio ambiente, pois a mesma poderá ser utilizada tanto por peritos ou técnicos, quanto por ambientalistas amadores, ou seja, pessoas interessadas em cuidar do meio ambiente.
A socialização entre os usuários do serviço será possível devido ao perfil social da ferramenta, o que tornará a rede mais efetiva. Visto que, usuários com maior conhecimento técnico poderão conversar com os usuários de menor conhecimento, o diálogo entre os usuários poderá ser realizado através de conversas particulares e também em grupos. Com a disponibilidade de recursos sociais, a rede fornece um ambiente não formal de aprendizagem propício para a educação ambiental, no qual os usuários poderão ensinar e aprender sobre o meio ambiente (JACOBI, 2003).
Os dispositivos móveis atuais contam com os mais diversos tipos de sensores, como GPS, acelerômetro, microfone, câmera e giroscópio, tais sensores possibilitam a criação dos mais diversos tipos de SBLs (Serviços Baseados em Localização) e a aplicação fará uso de alguns deles. Atualmente estão disponíveis vários exemplos de SBLs já implementados e utilizados através de smartphones e tablets, como o Waze, para relatar e visualizar informações referentes às condições de tráfego em tempo real. O Foursquare, serviço no qual os usuários compartilham sua localização. Além do Instagram, onde os usuários podem enviar imagens em tempo real (SILVA, 2013).
1.1 Objetivos do trabalho O objetivo geral deste trabalho é fornecer para a população um serviço baseado em localização para a fiscalização e monitoramento de incidentes ambientais através de dispositivos móveis. Contribuindo para a redução do tempo de resposta a incidentes ambientais relacionados à exploração e o descarte de petróleo e seus derivados oleosos, além de incêndios florestais, desmatamento ilegal e outros tipos de incidentes ambientais, contribuindo assim para minimização dos impactos ambientais causados por essas ocorrências.
1.2 Metodologia Para atingir o seu objetivo, este trabalho prevê a construção de um serviço baseado em localização capaz de interligar pessoas com informações produzidas a partir de dispositivos portáteis conectados a internet (smartphones e tablets com acesso à web, câmera e GPS) usando como meio primário uma ferramenta de mapas online. O acesso às informações exibidas na aplicação móvel será disponibilizado por uma aplicação em constante execução no servidor. As informações poderão ser visualizadas por qualquer cidadão, instituição e órgão governamental.
incidentes Todos os reportados no aplicativo conterão informações de geolocalização. Essas informações poderão ser geradas pelo GPS e sensores de rede do aparelho e visualizadas através do serviço de mapas online da Google, o Google Maps.
A aplicação cliente foi desenvolvida com o framework Phonegap e, inicialmente, será disponibilizada somente para dispositivos que utilizam o sistema operacional Android.
A aplicação servidor foi desenvolvida em C e está hospedada em um servidor na Universidade Federal do Rio Grande – FURG.
O dispositivo móvel se conecta ao servidor utilizando socket. Ambos se comunicam através de um protocolo de comunicação baseado em XML e Base64.
1.3 Organização do texto Neste capítulo, foi abordado o foco do projeto, contribuir com a fiscalização e o monitoramento de incidentes ambientais por observadores casuais que possuam o aplicativo instalado em seu dispositivo pessoal, contribuindo assim com a diminuição no tempo de resposta a estes incidentes.
No capítulo 2 encontram-se listados diversos tipos de incidentes ambientais, assim como os meios atuais utilizados por órgãos governamentais para que os cidadãos reportem esses incidentes.
Neste trabalho serão empregadas tecnologias atuais para a web e plataformas móveis: web 2.0, redes sociais, plataformas móveis e nuvem computacional, essas e outras tecnologias envolvidas serão apresentadas no capítulo 3.
O capítulo 4 contém a arquitetura da aplicação.
O capítulo 5 aborda o desenvolvimento do projeto, como ele está estruturado, as classes e seus relacionamentos, assim como suas principais funcionalidades.
O capítulo 6 exibe os principais casos de uso do projeto, assim como os resultados obtidos. Por fim, o capítulo 7 contém as conclusões.
2 MEIO AMBIENTE De acordo com a resolução CONAMA 306:2002: ―Meio Ambiente é o conjunto de condições, leis, influencia e interações de ordem física, química, biológica, social, cultural e urbanística, que permite, abriga e rege a vida em todas as suas formas‖.
Encontra-se na ISO 14001:2004 a seguinte definição sobre meio ambiente: ―circunvizinhança em que uma organização opera, incluindo-se ar, água, solo, recursos naturais, flora fauna, seres humanos e suas inter-relações.‖.
A partir disso, é possível afirmar que o meio ambiente envolve todas as coisas vivas e não vivas que ocorrem na Terra, ou em alguma região dela, que afetam os ecossistemas e os seres humanos.
2.1 Incidentes ambientais Segundo o IBAMA, define-se um incidente como uma Emergência ambiental ou um Acidente ambiental.
Emergência ambiental é uma ameaça súbita ao bem estar do meio ambiente ou à saúde pública devido à liberação de alguma substância nociva ou perigosa ou, ainda, devido a um desastre natural (IBAMA, 2014).
Acidente ambiental é um acontecimento inesperado e indesejado que pode causar, direta ou indiretamente, danos ao meio ambiente e à saúde. Esses acontecimentos perturbam o equilíbrio da natureza e, normalmente, estão associados também a prejuízos econômicos. Os acidentes podem ser causados pela própria natureza, como é o caso dos vulcões, raios, ciclones, etc. Porém, na maioria das vezes, são causados pelo próprio homem. São os acidentes "tecnológicos" (IBAMA, 2014).
2.1.1 As ocorrências Incidentes relacionados ao meio ambiente podem ocorrer das mais diversas formas e gerar danos em diversos setores da fauna e flora de uma região, derramamentos ou vazamentos de produtos nocivos, incêndios, explosões e colisões são somente alguns exemplos de eventos que podem vir a ocorrer e que podem ser relatados através do projeto que está sendo proposto.
2.1.1.1 Vazamento de Petróleo A descoberta e exploração de novos campos petrolíferos é uma atividade em crescimento no Brasil, ela está ligada ao aumento do consumo de petróleo no mundo, e é responsável também pelo aumento da produção e do transporte marítimo, principal meio de extração de petróleo no Brasil (Figura 1), fator que eleva o risco de incidentes com óleo (MARINHO, 2012).
O petróleo é um tipo de combustível fóssil de origem animal e vegetal formado há milhões de anos em rochas sedimentares. É uma substância líquida oleosa de coloração escura encontrada em muitos lugares no mundo e utilizada como matéria-prima para os mais diversos produtos que utilizamos no nosso dia-a-dia, como a gasolina, o diesel, os plásticos, a borracha e diversos compostos químicos (MARINHO, 2012).
A extração do petróleo nos oceanos é feita através de máquinas montadas em plataformas fixas ou móveis, que bombeiam o petróleo para o navio ou oleodutos e é a metodologia de extração mais utilizada no Brasil (JUNIOR, 2006).
Fonte: Anuário estatístico 2012 – ANP É possível observar na Figura 2, que as maiores fontes de produção de petróleo estão concentradas no Oriente Médio, com valores estimados em 27,7 milhões de barris por dia. Sendo a Arábia Saudita, a maior produtora, com média de 11,2 milhões de barris por dia.
Sabendo que a localização dos campos petrolíferos não é, necessariamente, próxima das áreas de maior consumo (Figura 3), torna-se necessário o transporte dessa produção através de embarcações, caminhões ou tubulações (oleodutos e gasodutos). Esses equipamentos estão passíveis de causar os mais diversos tipos de derramamento de petróleo, causando danos enormes ao meio ambiente (MARINHO, 2012).
Figura 2 Produção de petróleo segundo regiões geográficas em 2011 (milhões de barris/dia).
Fonte: BP Statistical Review of World Energy, 2012.
Fonte: BP Statistical Review of World Energy, 2012.
Esses derramamentos acontecem em razão de falhas estruturais dos equipamentos, falhas humanas na execução e também pela pressão exercida no fundo do oceano que pode causar fissuras ou falhas no assoalho, escapando gás ou óleo. Em um desastre ambiental desse tipo são lançadas no mar quantidades enormes do produto, formando manchas que são espalhadas pelas correntes marítimas e pelas correntes de ar. Ao ter contato com a água a mancha de óleo passa por múltiplos processos naturais (Figura 2), denominada de intemperismo, o qual é influenciado pelas características físicas e químicas do produto vazado, assim como pela irradiação solar, pelas variações na temperatura do ambiente e da água, pela chegada de frentes frias, pela força dos ventos e por fim, pelo impacto das ondas e correntezas (CETESB, 2007; MARINHO 2012).
Fonte: CETESB, 2007.
A poluição causada pelo petróleo é muito tóxica para os animais marinhos e para as aves migratórias, além de prejudicar indiretamente a população que vive no litoral das áreas atingidas, o derramamento de petróleo ou de seus derivados em regiões costeiras pode originar efeitos crônicos ao longo de anos (MARTINHO, 2010). Porém, a grande maioria dos vazamentos ocorre em alto mar, distantes da zona costeira, sem impactar a fauna e trazer prejuízos à pesca e ao turismo (MARINHO 2012).
Dentre os piores vazamentos que ocorreram nas últimas décadas podemos citar:  2000 - Acidente na Baía de Guanabara, RJ. Derramamento de 1,3 milhões de litros de óleo cru. Causou grandes danos aos manguezais, praias e à população de pescadores.
 2002 - Naufrágio do navio Prestige, das Bahamas. Afundou na costa oeste da Galícia deixando vazar 40.000 ton de óleo pesado. A poluição afetou a costa da Espanha, Portugal e França (COMISSION OF THE EUROPEAN COMMUNITIES, 2003).
 2010 - Golfo do México. Uma explosão na plataforma da British Petroleum Deepwater Horizon rompeu tubulações deixando escapar uma quantidade estimada entre 3 e 4 milhões de barris de petróleo.
Apesar do grande número de vazamentos houve, a partir dos anos 70, um significativo decréscimo nos acidentes (Figura 5), isso foi possível devido à inserção de políticas mais rigorosas e maiores cuidados por parte de algumas empresas (ITOPF, 2011).
Fonte: ITOPF (International Tanker Owners Pollution Federation), 2011.
2.1.1.2 Acidente com produtos químicos Os acidentes envolvendo substâncias perigosas nas atividades de transporte, armazenamento e produção industrial de produtos químicos constituem um sério risco à saúde e ao meio ambiente. Os acidentes envolvendo produtos químicos perigosos devem ser atendidos por pessoal técnico qualificado e com uso de equipamentos apropriados para este fim (FREITAS, 1995).
As primeiras horas de atuação são de extrema importância para evitar sua extensão e severidade. Em decorrência disso, a agilidade na comunicação de sua ocorrência aos órgãos competentes é essencial (MMA, 2014).
Consideram-se substâncias químicas perigosas àquelas que, isoladas ou em mistura, possam acarretar efeitos prejudiciais aos organismos biológicos, devido suas propriedades tóxicas, corrosivas, oxidantes e radioativas. Tais produtos podem ser encontrados em estado sólido, líquido ou gasoso (FERREIRA, 2003).
Acidentes com produtos químicos tem grande ocorrência em atividades de produção e também no transporte (FREITAS, 1995). Sendo que, esses podem ter consequências catastróficas, sobretudo diante da proximidade de cidades. Além das perdas humanas de valor social incalculável, os custos decorrentes da contaminação ambiental atingem cifras muito elevadas (FERREIRA, 2003).
2.1.1.3 Incêndio Florestal Incêndio florestal é considerado todo o fogo sem controle que incide sobre qualquer forma de vegetação e pode ser causado pelo homem ou por causas naturais.
Há grandes perdas ocasionadas pelo fogo anualmente no mundo. Os incêndios voluntários ou não, ocasionam grandes gastos tanto em recursos como em vidas humanas, e semeiam a destruição de lugares naturais que demoram muito tempo em regenerar-se.
A maioria dos países destinam enormes quantias de dinheiro para se proteger do fogo em zonas especialmente sensíveis a ele, como as florestas. Para isso, há investimentos em hidroaviões, helicópteros, barreiras para conter incêndios e brigadas especializadas de bombeiros.
Um incêndio florestal pode ser causado de diversas maneiras. Na sua grande maioria são de origem humana, tanto acidentais (queimadas, queima de lixos, lançamento de foguetes, cigarros mal apagados, linhas elétricas), quanto intencionais. Os incêndios de causas naturais pertencem a uma pequena percentagem do número total de ocorrências.
Um incêndio pode propagar-se pela superfície do terreno, pelas copas das árvores e através da manta morta e em grandes proporções podem ser vistos a vários quilômetros, devido aos seus fumos negros e densos.
Florestas tropicais são enormes armazéns de carbono, ao sofrer com os incêndios florestais, tais florestas emitem quantidades significativas de carbono no ar, agravando o aquecimento global (MOUTINHO, 2009).
Os impactos ambientais causados pelos incêndios florestais vão além da emissão de carbono na atmosfera. Isso porque incêndios florestais aumentam a susceptibilidade da floresta a futuros incêndios. Pois fogo provoca fogo. Ao sofrer com a queima, até 40% das árvores adultas podem morrer. Esta mortalidade aumenta de maneira relativamente alta se um segundo incêndio ocorrer. (MOUTINHO, 2009).
2.1.1.4 Desmatamento Ilegal O Desmatamento é o processo de desaparecimento completo e permanente de florestas, atualmente causado em sua maior parte pela atividade humana. Embora o conceito se aplique em senso estrito à perda de florestas, regiões densamente cobertas por árvores, muitas vezes ele é aplicado para perdas em outras regiões com cobertura vegetal naturalmente esparsa, arbustiva ou rasteira, como as savanas, as pradarias e o cerrado (WILLIAMS, 2000).
Diferente de degradação florestal, o desmatamento é uma perda quantitativa de superfície florestada, já a degradação ambiental é uma perda qualitativa em biodiversidade, estrutura ou função de uma floresta (JEAN-PAUL, 2003).
Também é importante diferenciar o ―desmatamento legal‖, realizado de forma produtiva, seguindo a legislação vigente e com finalidades apropriadas para as condições locais, daquele ―desmatamento ilegal‖, que além de não respeitar as leis ambientais, é utilizado para finalidades apenas especulativas ou para finalidades inapropriadas para as condições locais. O ordenamento da fronteira deve ter como principal objetivo a eliminação do desmatamento ilegal e inapropriado do ponto de vista socioambiental e econômico (ALENCAR, 2004).
A floresta amazônica brasileira permaneceu completamente intacta até o início da era ―moderna‖ do desmatamento, com a inauguração da rodovia Transamazônica, em 1970. Os índices de desmatamento na Amazônia vêm aumentando desde 1991 com o processo de desmatamento num ritmo variável, mas rápido (FEARNSIDE, 2005).
As três atividades responsáveis pelo desmatamento na Amazônia são: pecuária, agricultura familiar e, recentemente, a agricultura mecanizada. A conversão da floresta em pastagens tem sido a principal causa do desmatamento e uma das principais formas de ―desmatamento ilegal‖, especialmente quando utilizado de forma especulativa. A criação extensiva de gado, especialmente em grandes propriedades, tem experimentado um contínuo longo da última década e é responsável por aproximadamente 75% das florestas desmatadas na região. Entre 1990 e 2001, o incremento ao rebanho bovino da Amazônia Legal praticamente duplicou, passando de 26 milhões para 52 milhões de cabeças, a uma taxa de crescimento média de 6% ao ano (FEARNSIDE, 2005).
Os impactos do desmatamento incluem a perda de biodiversidade, a redução da ciclagem da água (e da precipitação) e também contribuições para o aquecimento global. As estratégias para desacelerar o desmatamento incluem a repressão através de procedimentos de licenciamento, monitoramento e multas (ALENCAR, 2004).
Figura 6 Taxa de desmatamento (em km²) nos Estados da Amazônia entre 1978 e 2002 (INPE, 2003).
Segundo os dados do INPE (2003), Mato Grosso e Pará foram os Estados campeões do desmatamento na Amazônia Legal (Figura 6). Ambos foram responsáveis por 71% das florestas derrubadas entre 1998 e 2003 (Figura 7, INPE, 2003). Mato Grosso, no entanto, tem ocupado de forma isolada o primeiro posto.
Figura 7 Área total desmatada até o ano de 2001. Cálculo baseado nos dados do PRODES Digital (INPE, 2003).
Entre 1998 e 2003, foram derrubados, em média, 6.500km² de floresta mato- grossense por ano, o equivalente a 40% do desmatamento total na região. Entre 2001 e 2002, a área desmatada subiu para, aproximadamente, 9.000 km², um crescimento de 37% em relação à média anterior (ALENCAR, 2004).
2.1.1.5 Tráfico de Animais Estimava-se que perto de cinquenta milhões de animais vivam confinados em jaulas e gaiolas no Brasil, muitos deles provenientes de capturas ilegais (TANGERINO, 2006). O tráfico de animais é um conjunto de ações que, cada uma, por si só, constitui crime. Matar, perseguir, caçar, apanhar, utilizar espécimes da fauna silvestre, nativos ou em rota migratória, sem a devida permissão, licença ou autorização da autoridade competente.
O comércio ilegal de animais, ao lado das práticas da agropecuária, extrativismo e urbanização, da introdução de espécies exóticas, da reintegração das espécies, da poluição, da pesca e caça excessiva é uma das principais causas de extermínio de espécimes e espécies da fauna silvestre (TANGERINO, 2006).
Normalmente a expressão ―tráfico de animais‖ está vinculada ao transporte de animais ou a sua manutenção em cativeiro, ambas sendo atividades ilegais. Isso por que essas espécies não tem origem legal ou o seu transporte não está autorizado.
A Rede Nacional de Combate ao Tráfico de Animais Silvestres identificou parcialmente os lugares de captura no território brasileiro. A rede começa a se formar a partir desses lugares (ou nas redondezas) onde residem desempregados, lavradores, pescadores que se ligam aos caminhoneiros e motoristas de ônibus que transitam entre estas áreas rurais e centros urbanos médios e grandes. Geralmente, os caçadores vendem os animais capturados para aumentar a renda familiar (TANGERINO, 2006).
2.1.1.6 Pesca Predatória Pesca predatória é aquela que retira do meio ambiente, mais do que ele consegue repor, diminuindo a população de peixes e mesmo de plantas do ecossistema. A pesca predatória tem consequências desastrosas, podendo limitar a produtividade pesqueira, quer seja do ponto de vista biológico, quer econômico.
A pesca é caracterizada como ilegal quando praticada em regiões previamente marcadas com restrição de um órgão competente. Também pode ser considerada ilegal se for feita com o uso de explosivos ou substâncias que, em contato com a água, produzam efeito semelhante a substâncias tóxicas, ou outro meio proibido pela autoridade competente.
Em um contexto global, devido à pesca predatória, um grande número de espécies tem sido incluído na lista vermelha das espécies ameaçadas da IUCN, União Mundial para a Natureza. Os estudos realizados no Brasil serviram de base para a inclusão nessa lista de espécies ameaçadas em águas brasileiras.
A maior problemática nacional consiste na sobrepesca (captura em quantidades acima das quotas acordadas internacionalmente para garantir a manutenção dos estoques de peixes ou a sustentabilidade da pesca comercial) (AMARAL, 2005).
2.2 Órgãos governamentais Para esse projeto, foram pesquisadas as formas de reportar incidentes utilizadas pelos principais órgãos governamentais relacionados ao meio ambiente. Para isso, foi necessário acessar o site do Ministério do Meio Ambiente em busca dos órgãos licenciadores.
Os órgãos estão categorizados em dois tipos, federais e estaduais. Na esfera federal o IBAMA é o único órgão licenciador, já na esfera estadual existe ao menos um órgão por estado.
2.2.1 Reportar incidentes Todos os órgãos governamentais pesquisados contam com algum meio de comunicação para que os cidadãos possam reportar incidentes relacionados ao meio ambiente. Grande parte deles disponibilizam números telefônicos, outros oferecem também um formulário online, no qual o indivíduo que deseja reportar um incidente deverá preencher alguns campos com suas informações pessoais e outros com informações relacionados ao incidente. Nessa seção serão expostos os métodos de denúncia disponibilizados pelos órgãos licenciadores que atuam na região sul do país, ou seja, nos estados do Rio Grande do Sul, Santa Catarina e Paraná.
2.2.1.1 IBAMA Para efetuar uma denúncia no site do IBAMA, o denunciante deverá apresentar dados claros e precisos sobre a denúncia a ser formulada. Visto que, segundo o IBAMA, a insuficiência de dados, na maioria das vezes, impossibilita ou retarda o atendimento da denúncia. Os dados pessoais do informante são mantidos em sigilo, por motivos de segurança. O IBAMA solicita também que seja informado com clareza o tipo de evento que está sendo submetido, assim como, dados de localização do incidente. Sendo assim, caso o incidente tenha ocorrido em área urbana, deverão constar dados como: estado, município, bairro, rua. Caso o incidente tenha se originado em área rural, informações como: nome da estrada, quilômetro e direção (exemplo: saindo de Rio Grande em direção a Pelotas) são de extrema importância.
É possível também entrar em contato com o IBAMA através da Linha Verde, central de atendimento na qual as atendentes poderão esclarecer informações e registrar a denúncia.
2.2.1.2 FEPAM A FEPAM é um órgão do estado do Rio Grande do Sul que tem a atribuição de atender emergências com danos ambientais em todo o estado. A FEPAM disponibiliza uma linha telefônica exclusiva para a denúncia de emergências ambientais e solicita que, ao efetuar uma denúncia, o cidadão especifique informações como: nome, detalhes do acidente, condições locais (Área atingida, cursos d’água próximos, riscos à captação d’água etc.), condições de tempo no local e outros detalhes relativos a cada tipo de incidente.
2.2.1.3 FATMA A FATMA é o órgão ambiental que atua no estado de Santa Catarina, com sua sede localizada em Florianópolis. A FATMA tem como principal missão garantir a preservação dos recursos naturais do estado. Para denunciar crimes e incidentes ambientais o órgão conta com uma linha telefônica gratuita. Caso a indivíduo queira reportar o evento através da internet, a FATMA utiliza a ouvidoria geral do estado de Santa Catarina, a qual oferece a opção de anonimato ao denunciante e solicita que seja fornecido o máximo de informações para que o fato seja investigado.
2.2.1.4 IAP Responsável por proteger, preservar, conservar e recuperar o patrimônio ambiental, o IAP é o órgão ambiental do estado do Paraná. Para possibilitar o envio de denuncias, o órgão disponibiliza um formulário online, que solicita ao denunciante as informações relevantes para possibilitar a verificação do incidente, caso o denunciante opte pelo anonimato, a denúncia somente será averiguada se forem encaminhados dados que possibilitem a sua verificação, como nome e sobrenome do denunciado, assim como informações de localização do evento.
2.3 Considerações Finais do Capítulo Neste capítulo foram abordados tipos de incidentes ambientais que influenciam todo o ecossistema a sua volta. Também foram apresentados alguns órgãos ambientais que atuam na região sul e os seus principais meios de contato com a população. Esses meios podem ser utilizados para o reporte de incidentes ambientais.
A forma de reporte utilizada pelos órgãos ambientais se mostra pouco efetiva. Visto que, sem a exatidão de um GPS, o usuário deverá informar os dados relativos à localização do incidente através de referencias, dificultando a ação dos órgãos responsáveis.
A aplicação proposta pode contribuir no reporte de incidentes ambientais, como os listados neste capítulo. Manchas órfãs podem ser encontradas em cidades litorâneas, que contenham lagos ou lagoas. Um vazamento de óleo pode ocorrer próximo à costa, prejudicando a vida marinha do local. Ainda relacionado a vazamento de óleo, há também a possibilidade de encontrar, nas proximidades da costa, animais debilitados devido ao contato com petróleo, ou seus derivados. Acidentes com produtos químicos podem ocorrer m diversos locais, estradas, estabelecimentos comerciais e indústrias. O comércio ilegal de animais é considerado crime, segundo a legislação do Brasil. A partir disso, é de extrema importância o reporte de qualquer tipo de tráfico de animais. Esse tipo de incidente pode ocorrer no perímetro urbano e deve ser combatido. A pesca predatória, assim como o tráfico de animais, é considerada crime, segundo a legislação vigente no país. Esse tipo de ocorrência é oriundo de áreas costeiras, como praias e lagunas. Princípios de um incêndio florestal podem ser avistados a longas distâncias, o rápido reporte desse tipo de incidente pode contribuir bastante na tomada de decisão das autoridades responsáveis. Por fim, o desmatamento ilegal, cujo maior número de ocorrências acontece nas áreas cobertas pela floresta amazônica, também pode ser reportado pelo aplicativo. A derrubada das árvores para beneficiar obras urbanas, construir pastos e fazer enormes plantações, produção de carvão vegetal e as constantes queimadas são fatores que ocorrem em todo território nacional.
3 TECNOLOGIAS MÓVEIS 3.1 Dispositivos móveis A popularização dos dispositivos móveis como smartphones e tablets foi consideravelmente influenciada pela possibilidade da criação de novas aplicações nas mais diversas áreas, assim como pelo aumento da capacidade desses aparelhos, tanto em melhoras computacionais, quanto em sensores e comunicação (KAUR, 2014).
3.1.1 Smartphones Smartphone é um celular com funcionalidades avançadas que podem ser estendidas por meio de programas executados por seu sistema operacional. Os sistemas operacionais dos smartphones permitem que desenvolvedores criem milhares de programas adicionais, com diversas utilidades, tais programas adicionais são chamadas de aplicativos e podem ser encontrados em diversos sites especializados. Desta forma, os usuários têm liberdade para instalar e utilizar aplicações que suprem suas necessidades e interesses (VERKASALO, 2009).
Figura 8 Smartphones lançados entre os anos de 2013 e 2014 (a) Sony Xperia Z1 (b) Samsung Galaxy S5 (c) Apple Iphone 6 A Tabela 1 apresenta as características de alguns smartphones mais capazes lançados entre 2013 e 2014, apontando as características mínimas do hardware e software. Sendo as principais a capacidade de conexão com redes de dados para acesso à internet sem fio, tela sensível ao toque, câmeras digitais compactas, GPS, entre outros recursos (TOLEDO, 2012).
Tabela 1 Configuração dos Smartphones da Figura 8, ordenados da esquerda para a direita.
Fonte: Wikipédia 3.1.2 Tablets É um dispositivo pessoal em formato de prancheta (Figura 9) que pode ser usado para acesso à internet, organização pessoal, visualização de fotos, vídeos, leitura de livros, jornais e revistas e para entretenimento com jogos. Apresenta uma tela sensível ao toque que é o dispositivo de entrada principal.
Figura 9 Tablets lançados entre os anos de 2012 e 2013 (a) Samsung Galaxy 3 (b) Google Nexus 7 (c) Google Nexus Pode ser utilizada a ponta dos dedos ou uma caneta para acionar suas funcionalidades. Um tablet é alimentado por bateria, de modo a ser um dispositivo prático e de fácil transporte (WIKIPEDIA, 2014).
O hardware dos tablets (Tabela 2) atuais tem características muito semelhantes às encontradas nos smartphones (Tabela 1).
Tabela 2 Tablets lançados entre os anos de 2012 e 2013 (Figura 9).
Fonte: Wikipédia 3.2 Sensores Os smartphones e tablets atuais contam com os mais diversos tipos de sensores. Tais sensores adicionam incontáveis possibilidades a esses dispositivos. Novos sensores são constantemente adicionados a dispositivos mais recentes. Porém, é possível identificar alguns sensores convencionais, como câmera e GPS.
3.2.1 Câmera A maioria dos dispositivos móveis é embarcada com câmeras mais simples do que as câmeras digitais convencionais. Suas lentes de foco fixo e sensores menores limitam o seu desempenho em condições de iluminação fraca. Na falta de um obturador físico, a maioria tem um longo atraso do obturador. Flash, quando presente, é geralmente fraco.
O primeiro telefone com câmera foi vendido em 2000 no Japão, um modelo J- Phone, cerca de uma década após a primeira câmera digital ter sido vendida, também no Japão, em dezembro de 1989.
As principais vantagens dos dispositivos móveis com câmera são de custo e tamanho compacto; smartphones e tablets com câmera podem executar aplicativos móveis para adicionar recursos como geotagging.
3.2.2 Sensores utilizados para localização Muito utilizados para serviços baseados em localização, os sensores que possibilitam as aplicações de obterem a localização do usuário utilizam métodos diferentes para a obtenção dessa informação, assim como consomem quantidades de energia diferentes (OSHIN, 2012).
3.2.2.1 GPS O sistema de posicionamento global é um sistema de navegação por satélite que fornece a um aparelho receptor móvel a sua posição, assim como informação horária, sob todas as condições atmosféricas, a qualquer momento e em qualquer lugar na Terra, desde que o receptor se encontre no campo de visão de quatro satélites GPS (BERNARDI, 2002).
Os satélites orbitam o planeta em uma órbita geoestacionária, a 20.2 km de altitude, formando uma constelação de satélites, projetada de maneira que pelo menos 4 deles sejam visíveis a partir de qualquer ponto do planeta. Inicialmente a rede contava com 24 satélites, mas novos satélites entram em orbita com o passar do tempo, em Setembro de 2008 já havia 32 satélites em orbita.
Os satélites transmitem um sinal de alta frequência, contendo pacotes de informação com indicações precisas da hora em que cada um foi transmitido. Os receptores em terra captam o sinal e usam um sistema de trilateração para calcular a posição, comparando a diferença de tempo entre a transmissão e a recepção de cada pacote, calculando assim a distância de cada satélite. Conforme você se desloca, a distância em relação aos satélites muda, gerando uma pequena diferença no tempo do percurso, que é usada para atualizar a localização.
Os primeiros receptores de GPS eram muito mais simples que os atuais; eles forneciam apenas a latitude e a longitude, o resto era por conta do utilizador, que precisava calcular a localização no mapa. A geração seguinte trouxe mapas simplificados, exibidos em telas monocromáticas, mas com a evolução dos controladores e a queda de preços nas telas coloridas, memória flash e outros componentes, eles evoluíram rapidamente, até chegar aos modelos que temos hoje (MORIMOTO, 2009).
Os problemas urbanos gerados nas grandes cidades motivou o uso de equipamentos GPS por parte da população em geral. Essa necessidade, aliado a miniaturização dos componentes, tornou possível a inserção de receptores GPS em smartphones e outros aparelhos de uso pessoal, os receptores utilizam a tela, o processador, memória e demais componentes do dispositivo (ZUCATO, 2009).
3.2.2.2 Rede O sensor WI-FI encontrado nos dispositivos móveis permite que a localização do aparelho seja feita através do método Wi-FI positioning system, em português, Sistema de localização por WI-FI. Esse modo de obtenção de localização utiliza menos energia do que o sensor GPS.
O sensor GSM também é capaz de informar a localização do dispositivo. Conhecido como GSMPS, sigla para Sistema de Posicionamento pelo Sistema Global para Comunicações Móveis, é a metodologia com o menor consumo de energia, como exibido na Figura 10.
Figura 10 Diferença no consumo de energia entre os sensores em um dispositivo Nókia N95: (a) Consumo do GPS (b) Consumo do WI-FI (c) Consumo do GSM.
Fonte: EnLoc: Energy-Efficient Localization for Mobile Phones Embora o GPS seja o sensor de maior precisão (OSHIN, 2012), ele também é responsável pelo maior consumo de energia se comparado aos demais sensores. Os sensores de rede têm um menor tempo de resposta a uma requisição de localização, além de utilizarem menos energia (ANDROID, 2014).
3.3 Software e Recursos Nessa seção estão listados softwares e recursos provenientes de tecnologias móveis e também aqueles que podem ser utilizados em conjunto com essas tecnologias.
3.3.1 Web 2.0 O termo ―Web 2.0‖ surgiu em 2004. Ele foi utilizado pela primeira vez, por O’Reilly e Dougherty, para designar uma nova geração de recursos Web. (O’REILLY, 2005).
A comunicação e o acesso à informação tiveram grandes avanços com o surgimento da primeira geração da Web, no fim da década de 1980. Porém, diferente da Web na qual navegamos atualmente, a primeira geração não disponibilizava a interação com a qual estamos acostumados. O conteúdo disponibilizado na rede era oferecido por empresas ou pessoas com conhecimento técnico na área.
Com a evolução da Web para a Web 2.0, surgiram oportunidades para que os usuários sem conhecimento técnico pudessem gerar conteúdo na rede.
A Web 2.0 é a evolução para uma Web social e interativa, que dá a todos uma oportunidade para criar conteúdo, compartilhar interesses e interagir com os demais usuários da internet. Sendo assim, não somente uma tecnologia, mas sim uma nova atitude de seus usuários (KROSKI, 2007).
Para Tapscott (2010, p. 29), ―a velha rede era algo em que você navegava em busca de conteúdo A nova rede é um meio de comunicação que permite que as pessoas criem seu próprio conteúdo, colaborem entre si e construam comunidades.‖.
Dessa forma, a Web 2.0 representa uma nova geração de ferramentas na internet que possibilitam as mais diversas formas de comunicação e participação na rede.
Entre as novas ferramentas disponibilizadas pela Web 2.0, pode-se citar: software livre; ferramentas wikis; Really Simple Syndication (RSS); QR Code; blogs e as ferramentas de redes sociais (AGUIAR, 2012).
3.3.2 Geotagging O geotagging é uma forma de criar uma tag para sua foto, que informa as coordenadas (latitude e longitude) do local onde ela foi tirada. Esta funcionalidade permite, por exemplo, que você faça um acompanhamento dos lugares pelos quais passou e pode seguir as pessoas, também, sabendo por onde elas andam.
Alguns álbuns virtuais já possuem essa função, como o Picasa e o Flickr, assim como o Google Maps (Figura 11).
3.3.3 Serviços Baseados em Localização Os Serviços Baseados em Localização (SBL) passaram por diversas modificações no decorrer dos últimos anos, por ser uma tecnologia que teve sua concepção relacionada a implantação do GPS, pelo Departamento de Defesa dos Estados Unidos, estimasse que a mesma exista, pelo menos, desde a década de 70. Esse conceito pode ser definido como serviços que integram a localização de um dispositivo móvel com outros tipos de informações para prover uma funcionalidade de maior valor agregado baseada nestes dados (CORREIA, 2004).
Esses serviços tiveram uma grande evolução devido à legislação americana que, em 1996, tornou obrigatório a disponibilidade de informações para a localização de chamadas de emergência efetuadas a partir de dispositivos de comunicação. A fim de tornar possível a realização desta tarefa, as operadoras de comunicação realizaram maiores investimentos em infraestrutura (KLIEMANN, 2006).
Os SBL visam disponibilizar um serviço de informação baseado em localizações, utilizando uma ferramenta de mapas. As informações de localização podem ser geradas através da latitude e longitude do usuário, obtidas através da comunicação do aparelho com a rede, ou com o GPS. Há diversas aplicações na área de SBL, direcionadas as mais diversas áreas (KUMAR, 2009).
Os serviços baseados em localização respondem a três perguntas: Onde? O que há em volta? Como chegar lá? Eles determinam a localização do usuário, em seguida usam o local e outras informações para fornecer aplicações e serviços personalizados. Como exemplo, um serviço de emergência sem fio 911 que determina a localização de quem efetuou a chamada automaticamente. Outros serviços podem combinar o local onde o dispositivo se encontra com informações sobre alojamento e entretenimento (MAHMOUD, 2004).
Há diversos tipos de abordagens para classificar as aplicações que fazem uso dos SBL. Uma importante distinção, utilizada por estudiosos da área, é o método no qual as informações chegam ao dispositivo. Há duas vertentes distintas de serviços: os serviços denominados Push e Pull. Serviços Push implicam que o usuário recebe a informação (baseada na sua localização), sem ter requisitado a mesma. Um exemplo desse tipo de serviço seria o recebimento de uma sugestão de restaurante situado nas proximidades da localização do usuário. Já nos serviços Pull, a informação só será enviada caso o usuário a requisite explicitamente (CORREIA, 2004).
Pode se dividir os SBL em diversas categorias, a seguir serão resumidamente especificadas algumas dessas categorias.
3.3.3.1 Serviços de Informação Os serviços desta categoria fornecem instruções de como se chegar a um destino desejado, indicam onde encontrar um determinado serviço ou pessoa nas redondezas, ou localizam um usuário perdido em um mapa.
Um serviço de ―Páginas Amarelas‖. Por exemplo, pode informar ao usuário onde fica o estabelecimento mais próximo à sua posição atual que oferece determinado tipo de serviço desejado (CORREIA, 2004). O aplicativo Posto de Gasolina, disponível no Google Play, é um prático exemplo desse tipo de serviço. Neste caso, um motorista pode procurar pelos postos que estão oferecendo o combustível pelo valor mais vantajoso, ou os postos mais próximos da sua localização.
Uma característica marcante desta categoria de serviços é a sua natureza Pull, pois é sempre o usuário quem solicita o recebimento de alguma informação.
Fonte: Google Play.
Normalmente a informação de localização é enviada ao servidor apenas no momento da requisição e não há a necessidade de um monitoramento contínuo da posição dos usuários (CORREIA, 2004).
3.3.3.2 Serviços de Emergência Serviços Baseados em Localização trazem uma nova e decisiva dimensão às soluções e sistemas de gerenciamento de crises. Em situações de emergências, o fator tempo normalmente é determinante para se evitar consequências mais graves. O uso de tecnologias de localização possibilita um menor tempo de resposta, desde o instante em que ocorre o fato em questão até o momento em que chega o auxílio (CORREIA, 2004).
A aplicação S.O.S Emergências (Figura 13) é um exemplo deste tipo de serviço.
Utilizada exclusivamente na Espanha, a aplicação pode ajudar a salvar vidas que se encontram em situação de emergência enviando a localização e efetuando uma ligação.
3.3.3.3 Serviços de Rastreamento Nesta categoria, a troca de informação de localização é feita de forma constante e contínua, não dependendo de eventos externos para dispará-la. Em função desta característica, esta categoria engloba aplicações em que não é necessário, ou mesmo desejado, preservar a privacidade do usuário (CORREIA, 2004).
Essa categoria engloba um grande leque de possibilidades, desde o rastreamento de veículos, transporte público, e até mesmo o de membros da família. Neste caso, há o aplicativo Family Mobile Tracker (Figura 14), por exemplo. Disponível no Google Play, essa aplicação possibilita que seja visualizada a informação de todos os membros da família que estão cadastrados na aplicação.
Fonte: Google Play Nessa aplicação, em particular, é possível encontrar funcionalidades Push e Pull.
Quando o responsável decide visualizar a localização dos demais membros da família, ele estará efetuando uma atividade Pull. Porém, a aplicação permite, por exemplo, que o responsável seja notificado quando o seu filho chega à escola. Neste caso, está sendo efetuada uma atividade Push.
3.4 Trabalhos Relacionados Com a disponibilidade de GPS em smartphones e tablets, diversas aplicações passaram a ser criadas ou adaptadas para utilizar os benefícios desta tecnologia. Desde aplicativos para que um atleta possa visualizar o caminho percorrido até aplicativos para encontrar gasolina pelo menor preço, como mostrado anteriormente. O GPS possibilita a criação dos mais diversos aplicativos.
Porém, na busca por aplicações que utilizam o GPS para reportar problemas relacionados exclusivamente ao meio ambiente, não foi possível encontrar nenhuma aplicação. Mas, foi possível encontrar aplicações que de certa forma, realizam esse tipo de serviço.
3.4.1 Urbotip O Urbotip (www.urbotip.com) é um aplicativo que possibilita o compartilhamento de problemas urbanos, para que assim, seja possível mostrar tais problemas para as autoridades responsáveis. Todos os problemas estão georreferenciados, facilitando a localização do problema por parte das autoridades.
Segundo os criadores da aplicação, o conceito é muito simples: O usuário identifica o problema, cria uma causa no aplicativo explicando do que se trata e a sua localização, essas informações, aliadas a um ambiente social, faz com que mais pessoas fiquem cientes desse problema e possam juntar-se a causa.
Os problemas estão divididos em categorias, como: Infraestrutura, Transporte Público, Trânsito, Meio Ambiente e Segurança.
3.4.2 Colab Eleito o melhor aplicativo urbano do mundo em 2013, pela New Cities Foundation, o Colab (www.colab.re) é uma rede social voltada para a cidadania, pois faz a ponte entre cidadãos e cidades, conectando pessoas a prefeituras e órgãos públicos.
Segundo seus criadores, o aplicativo se compromete a enviar todas as publicações para as prefeituras, além de encaminhar as respostas recebidas de volta aos cidadãos. A contribuição de cidadãos com a cidade beneficia a todos e colabora para a construção de um ambiente melhor para toda a população, interagindo com amigos e outros cidadãos numa plataforma social e transparente (COLAB, 2014).
Com o Colab, é possível fazer três tipos de publicação: - Fiscalize: indicar problemas e irregularidades de uma cidade, como buracos em vias, iluminação pública queimada, calçadas irregulares e etc.
- Proponha: elaborar soluções e projetos para melhorar determinada cidade, é possível discutir com amigos e outros participantes da rede.
- Avalie: Os usuários dão nota às diversas entidades e instituições públicas.
3.4.3 De olho na cidade O De Olho na Cidade (www.deolhonacidade.org) é um aplicativo que permite aproximar os cidadãos da administração pública, propiciando a governança participativa. Através dele você poderá postar causas (problemas, sugestões de projetos, algo que deve mudar na sua cidade), comentar, apoiar, compartilhar, etc.
Fonte: Google Play Quando a causa tiver um nível de importância elevada (muitos apoiadores, comentários, compartilhamentos) a administração dará maior importância para resolvê-la. Esta é a ideia central da aplicação.
3.4.4 Redes sociais e serviços de conversação A criação de grupos com um fim específico em redes sociais de grande utilização, por exemplo, é uma alternativa. Assim como a publicação de fotos geolocalizadas em aplicações de conversação. Porém, é importante salientar que esse tipo de metodologia é altamente dependente de recursos não administráveis e fortemente genéricos. A criação de um grupo para a postagem de incidentes ambientais no Whatsapp ou no Facebook, por exemplo, é uma maneira possível de contribuição. Porém, a falta de ferramentas organizacionais e que permitam a filtragem de incidentes, os torna inutilizáveis para grandes grupos de usuários.
Ao buscar alternativas para o reporte de incidentes ambientais, é possível encontrar iniciativas como a do Instituto Biota de Conservação, que utiliza perfis em redes sociais e grupos específicos em aplicativos de conversação para receber da população, informações relacionadas a animais marinhos. As imagens e textos são enviados por smartphone e podem salvar os animais encontrados vivos encalhados na praia.
Utilizando as informações geradas pela população, o Instituto remove ninhos de tartaruga encontrados em locais de risco, com muita movimentação de banhistas, e os transfere para áreas de proteção ambiental.
3.5 Tipos de aplicativos No cenário de aplicações para dispositivos móveis, é possível apontar para duas direções: aplicações nativas e aplicações web. Embora aplicativos de software web atinjam um maior número de usuários, dada a independência de sistema operacional, software nativos podem proporcionar maiores funcionalidades. Visto que, podem oferecer diversas funcionalidades sem que o dispositivo esteja conectado à internet.
3.5.1 Aplicação nativa A aplicação nativa, também conhecida como aplicação embarcada, é um produto desenvolvido para executar em uma determinada plataforma. Os arquivos resultantes da compilação do aplicativo devem ser instalados diretamente no sistema operacional, tais como apresentação, processamento e armazenamento de dados.
Esse tipo de aplicação possibilita a manipulação de dados offline, ou seja, armazenados em um banco de dados local, no próprio dispositivo, o que torna possível a utilização da ferramenta mesmo em localidades onde não há acesso a internet. Uma grande vantagem a ser observada nesse tipo de aplicação, é a melhor utilização do hardware presente no dispositivo, como o telefone, câmera, GPS, bluetooth e acelerômetro. Outro ponto positivo é a melhor experiência com o usuário, o desenvolvimento de aplicações nativas podem explorar recursos mais avançados do sistema operacional, tornando possível o acesso aos dados presentes no aparelho, como por exemplo: a agenda telefônica, câmera e outros aplicativos, facilitando a integração entre as aplicações existentes no aparelho.
Desenvolver software nativo requer linguagem de programação específica como Java no sistema operacional Android (www.android.com) do Google, Objective-C na plataforma iOS (www.apple.com/ios) da Apple, ou C# na plataforma Windows Phone (www.microsoft.com/windowsphone) da Microsoft (TOLEDO, 2012).
3.5.2 Aplicação web Acessado geralmente pela internet e desenvolvido com linguagens suportadas por navegadores, tais como, HTML, CSS, JavaScript, este tipo de aplicação é denominado aplicativo web.
No processo de produção desses aplicativos web, voltados para smartphones, deve- se levar em consideração sua alta popularidade, que permite uma proliferação maior de usuários em comparação com os aplicativos nativos. Isso por que não é necessária a instalação adicional de aplicativo, o que facilita a atualização e manutenção dessa aplicação.
Para que sejam executados de maneira satisfatória, os aplicativos web necessitam que o aparelho sempre esteja conectado à internet, de preferência deve-se ter uma velocidade de conexão satisfatória para permitir a rápida troca de dados com os servidores de páginas para não prejudicar a experiência do usuário.
Apesar dos aplicativos web serem executados em navegadores, há alguns pontos que exigem a atenção dos desenvolvedores, como por exemplo, os diferentes tamanhos de telas encontradas nos dispositivos móveis disponíveis no mercado, exigindo testes e adequações para o bom funcionamento. Outro fator que deve ser observado é a compatibilidade da aplicação com os navegadores disponíveis no aparelho. Visto que, dependendo da estrutura e das ferramentas da aplicação, os navegadores podem apresentar aspectos indesejáveis devido ao difícil controle quanto as suas diferenças e também quanto as suas respectivas versões (TOLEDO, 2012).
3.5.3 Aplicação híbrida O desenvolvimento de uma aplicação híbrida, ou aplicação multi-plataforma, pode ser realizado de maneiras diferentes. Uma delas é a técnica conhecida como cross- compilation, onde são realizadas diversas compilações de um mesmo código para criar aplicações focadas no ambiente de destino, nesse caso, um sistema operacional móvel.
Para isso, é utilizado um framework com uma API independente de plataforma e baseado em linguagens largamente utilizadas, como JavaScript, Ruby ou Java. A API é utilizada para criar a aplicação móvel, incluindo a sua interface, persistência de dados e lógica de negócio. A partir disso, o código é processado por um compilador multi- plataforma que o transforma em uma aplicação nativa do sistema operacional de destino. A aplicação gerada poderá ser instalada e executada nativamente no dispositivo. As vantagens dessa técnica são: aceitação, ao executar a aplicação nativamente no dispositivo, a aplicação irá se comportar como uma aplicação comum ao usuário; e terá acesso total às funções e capacidades nativas do dispositivo, como câmera e sensores. A maior desvantagem é a complexidade. Visto que, compiladores que realizam essa técnica são difíceis de serem escritos e precisam ser consistentes aos sistemas operacionais disponíveis.
Há também uma variação desta técnica, na qual é utilizada uma Máquina Virtual para abstrair os detalhes do sistema operacional destino do código em execução. Uma máquina virtual é um software projetado para ser uma máquina (neste caso, um dispositivo móvel) que executa as aplicações como uma máquina real. Neste cenário, o framework não somente provêm uma API, mas também um ambiente de tempo de execução no qual a aplicação será executada. A utilização desse método compartilha algumas vantagens com a técnica cross-compilation. Embora as aplicações costumem serem um pouco mais lentas em sua execução. A máquina virtual precisa traduzir as instruções gerando uma latência de interpretação. A maior vantagem dessa abordagem está relacionada ao fato de que, máquinas virtuais são mais flexíveis e práticas de modificar ao ser necessário adicionar novas funcionalidades a API.
Outra opção, cada vez mais popular, envolve a criação de uma aplicação nativa como se fosse uma aplicação web que abrirá no navegador do dispositivo. Essa técnica envolve a utilização de tecnologias web como HTML5, CSS3 e JavaScript para criar aplicações que irão se parecer e se comportar como aplicativos nativos.
Para certos tipos de aplicações, essa metodologia pode ser bem aproveitada, devido ao seu baixo custo e potencial para cobrir a maioria dos sistemas operacionais com poucas alterações no código. Isso inclui aplicações comuns de negócios, como leitores de notícias, e-books, sites bancários, redes sociais e e-mail. Porém, não é uma metodologia recomendável para aplicações de alto consumo energético, como jogos ou aplicações de vídeo conferência.
A aplicação web é executada em um navegador móvel ou em um navegador inserido em um aplicativo nativo, conhecido como Modelo Híbrido. Neste modelo, o aplicativo web é empacotado e executado em uma aplicação nativa que irá fornecer uma ponte entre os serviços e o sistema operacional. A aplicação web é armazenada localmente durante a sua instalação no dispositivo. A comunicação entre o aplicativo web e o aplicativo nativo normalmente ocorre utilizando uma API baseada em JavaScript, como mostra a Figura 18.
Essa técnica trás o melhor de ambas as tecnologias, web e nativa, em uma única solução integrada: a flexibilidade das aplicações web e a velocidade e riqueza de recursos das aplicações nativas. Quando corretamente utilizada, essa metodologia costuma obter bons resultados (HARDMANN, 2011).
Figura 18 Estrutura de uma aplicação hibrida Nessa seção estão listados três frameworks que possibilitam a criação de aplicações híbridas.
3.5.3.1 Phonegap Phonegap é um framework multi-plataforma e de utilização gratuita, para o desenvolvimento de aplicações móveis. Phonegap permite que desenvolvedores utilizem técnicas de desenvolvimento web - HTML, CSS e JavaScript - para desenvolver aplicações nativas em sistemas operacionais móveis, como Android, iOS e Windows Phone (LUNNY, 2011).
A arquitetura de uma aplicação criada no Phonegap está representada na Figura 19.
A interface com o usuário é realizada através de tecnologias web, como HTML, CSS e JavaScript. Podem ser utilizado em conjunto com o Phonegap bibliotecas, como jQuery e Bootstrap, para facilitar a criação de interfaces responsivas. A lógica da aplicação é baseada em JavaScript, linguagem na qual o framework é baseado. Na camada do framework estão os seus plugins padrão. Esses plugins se comunicam com o sistema operacional, realizando requisições para suas ferramentas e também para os sensores dos dispositivos.
3.5.3.2 Appcelerator Titanium Appcelerator Titanium é uma plataforma de desenvolvimento que permite a criação de aplicações para diversas sistemas operacionais móveis utilizando a simplicidade da linguagem JavaScript. Os aplicativos desenvolvidos através do Appcelerator Titanium podem ser executados como aplicativos nativos em plataforma iOS, Android, BlackBerry, entre outras (COSTA, 2012).
3.5.3.3 Sencha Touch Desde o seu lançamento, Sencha Touch se tornou uma plataforma muito utilizada para o desenvolvimento de aplicações baseadas em HTML5. O framework Sencha Touch permite que aplicações HTML5 e JavaScript se assemelhem muito a aplicações nativas, tanto em dispositivos com o sistema operacional iOS, quanto Andrid e Windows Phone. O framework permite ao desenvolvedor criar aplicações para diversas plataformas sem que seja necessário o aprendizado da linguagem nativa desta plataforma (CLARK, 2013).
3.6 Tecnologias para desenvolvimento web Ao desenvolver aplicações híbridas, faz-se uso de tecnologias web, como HTML5, CSS3 e JavaScript. Nessa seção serão descritas essas tecnologias.
3.6.1 HTML O HTML (abreviação para a expressão inglesa HyperText Markup Language, que significa Linguagem de Marcação de Hipertexto) é uma linguagem de marcação utilizada para produzir páginas na web. Documentos HTML podem ser interpretados por navegadores. Assim como as demais linguagens de marcação, o HTML é baseado na linguagem SGML (Standard Generalized Markup Language), criada em 1986. Essa linguagem permite a composição e apresentação de documentos na web.
A criação do HTML se deu devido à complexidade da SGML. O HTML foi criado especificamente para a estruturação de textos correntes e a apresentação de documentos em navegadores web (MAGRI, 2013).
3.6.1.1 HTML5 O HTML5 começou a ser desenvolvido em 2006 pelo World Wide Consortium (W3C) em conjunto com a Web Hypertext Application Technology Working Group (WHAT-WG). Esta nova versão traz consigo importantes mudanças quanto ao papel do HTML no mundo da Web, através de novas funcionalidades como semântica e acessibilidade. Possibilita o uso de novos recursos antes possíveis apenas com a aplicação de outras tecnologias disponibilizadas por empresas terceiras. Sua essência tem sido melhorar a linguagem com o suporte para as mais recentes multimídias de modo fácil para o desenvolvedor e que seja transparente para o usuário final (VARASCHIN, 2013).
3.6.2 CSS Cascading Style Sheets (ou simplesmente CSS) é uma linguagem de folhas de estilo utilizada para definir a apresentação de documentos escritos em uma linguagem de marcação, como HTML ou XML. Seu principal benefício é prover a separação entre o formato e o conteúdo de um documento.
O uso de CSS permite a criação de páginas visualmente mais atrativas e de fácil manutenção. Visto que, é possível concentrar toda a estilização do site em um único arquivo CSS (GAVAZONI, 2013).
3.6.3 JavaScript JavaScript é uma linguagem de programação interpretada. Foi originalmente implementada como parte dos navegadores web para que scripts pudessem ser executados do lado do cliente e interagissem com o usuário sem a necessidade deste script passar pelo servidor, controlando o navegador, realizando comunicação assíncrona e alterando o conteúdo do documento exibido.
A linguagem JavaScript é dinâmica, fracamente tipada, multi-paradigma e que suporta metodologias de programação orientado a objetos, imperativos e funcionais (FERNANDES, 2012).
3.6.3.1 jQuery jQuery é uma biblioteca JavaScript cross-browser desenvolvida para simplificar os scripts client side que interagem com o HTML. Criada por John Resig e disponibilizada como software livre.
A sintaxe do jQuery foi desenvolvida para tornar mais simples a navegação do documento HTML, a seleção de elementos DOM, criar animações, manipular eventos e desenvolver aplicações AJAX. A biblioteca também oferece a possibilidade de criação de plugins sobre ela.
No prefácio do livro jQuery in Action, John Resig diz o seguinte: ―O foco principal da biblioteca jQuery é a simplicidade. Por que submeter os desenvolvedores ao martírio de escrever longos e complexos códigos para criar simples efeitos?‖.
Esse trecho define muito bem a essência do jQuery, simplicidade. Diminuir as diversas linhas de código JavaScript que necessitam ser escritas para obter um efeito simples, em algumas poucas linhas que irão efetuar exatamente a mesma ação.
3.6.4 DOM O Modelo de Objeto de Documento é uma convenção multi-plataforma e independente de linguagem para representação e interação com objetos em documentos HTML, XHTML e XML. Os nós de cada documento são organizados em uma estrutura de árvore, chamada de árvore DOM, como exibido na Figura 20. Os objetos na árvore DOM podem ser endereçados e manipulados pelo uso de métodos sobre os objetos. A interface pública de um DOM é especificada em sua interface de programação de aplicações (API).
Figura 20 Hierarquia dos objetos de um arquivo HTML 3.7 Serviços de mapas pela Internet O Serviço de mapas pela internet (WMS) é a especificação de um formato, com o objetivo de disponibilizar um mapa na rede. Existem diversos tipos de WMS, alguns gratuitos e outros pagos.
No cenário mundial, o Google Maps é o WMS de maior destaque, contendo as mais diversas ferramentas e funcionalidades.
3.7.1 Google Maps Google Maps é um serviço de pesquisa e visualização de mapas e imagens de satélite da Terra gratuito na web fornecido e desenvolvido pela Google.
Atualmente, o serviço disponibiliza mapas e rotas para qualquer ponto nos Estados Unidos, Canadá, na União Europeia, Austrália e Brasil, entre outros. Disponibiliza também imagens de satélite do mundo todo, com possibilidade de um zoom nas grandes cidades, como Nova Iorque, Paris, São Paulo, Rio de Janeiro, Brasília, entre outras.
Google Maps é uma ferramenta extremamente poderosa e pode ser utilizada para os mais diversos tipos de aplicações. Para utilizar o Google Maps em um aplicativo para dispositivos móveis é necessário fazer uso da sua biblioteca.
Relativamente simples, a biblioteca do Google Maps permite a utilização de diversas ferramentas, com ela é possível utilizar o GPS do aparelho, assim como outros recursos do dispositivo (WIKIPÉDIA, 2014).
3.7.2 Here Maps Here, anteriormente conhecido como Ovi Maps (2007-2011) e Nokia Maps (2011- 2012), é uma ferramenta disponibilizada pela empresa Nokia que une recursos de mapeamento e de localização em um só local. O Here Maps é baseado em computação na nuvem, no qual informações de locais e serviços são armazenados em servidores remotos.
É possível desenvolver aplicações que fazem uso do Here Maps utilizando a sua API (WIKIPÉDIA, 2014).
3.7.3 OpenStreetMap OpenStreetMap é um projeto colaborativo para criar um mapa do mundo gratuito e editável. Inspirado no sucesso do Wikipédia, a ferramenta foi criada em 2004. O OSM conta com uma API editável, utilizada para a inserção e leitura de informações do banco de dados. Essas informações são geradas e inseridas pelos usuários através de aparelhos GPS, fotos aéreas e outras fontes.
O site é mantido pela OpenStreetMap Foundation, uma organização sem fins 3.8 Sistemas Operacionais O mercado de dispositivos móveis é dividido em alguns sistemas operacionais, tal divisão, é frequentemente analisada pela IDC, uma empresa americana, focada em pesquisas de mercado de Tecnologia da Informação, Telecomunicações e Tecnologias de Consumo, que realiza periodicamente pesquisas relacionadas ao mercado de sistemas operacionais.
Figura 24 Mercado de dispositivos móveis por trimestre, a partir de 2011 Fonte: IDC Na Figura 24, é possível visualizar os principais sistemas operacionais para dispositivos móveis, e as suas respectivas fatias de mercado, que variam com o passar do tempo, cada linha representa o primeiro trimestre de cada ano.
Figura 25 Mercado de dispositivos móveis, durante o primeiro trimestre de cada ano, em detalhes Fonte: IDC Com base na Figura 25, é possível visualizar os sistemas operacionais de maior destaque no mercado atual, ressaltando o grande crescimento do Android, líder absoluto com uma grande fatia do mercado. Dadas essas informações, essa seção visa trazer informações dos três sistemas operacionais de maior destaque no mercado atual e que tornam possível a criação da aplicação proposta no projeto: Android, iOS e Windows Phone.
3.8.1 Android O sistema Android está presente em diversos modelos de smartphones e tablets.
Alguns atributos do sistema são: browser rápido, sincronização em nuvem, sistema multitarefa, facilidades para conectar e compartilhar, milhares de aplicativos disponíveis para download, entre outros (LECHETA, 2010).
3.8.1.1 História Em agosto de 2005 a empresa Google adquiriu a Android Inc, uma pequena empresa em Palo Alto (California - USA) que desenvolvia uma plataforma para celulares baseado em Linux, com o objetivo de ser uma plataforma flexível, aberta e de fácil migração para os fabricantes. Em 2007, Google anunciou o sistema operacional Android e a criação da Open Handset Alliance (OHA), um conselho com mais de 33 empresas parceiras que se uniram para inovar e acelerar o desenvolvimento de aplicações e serviços para dispositivos móveis, trazendo aos consumidores uma experiência mais rica em termos de recursos e menos onerosa financeiramente para o mercado. Pode-se dizer que a plataforma Google Android é a primeira plataforma completa, aberta e livre para dispositivos móveis. O Android SDK é o kit de desenvolvimento que disponibiliza as ferramentas e APIs necessárias para desenvolver aplicações para a plataforma Google Android, utilizando a linguagem Java.
3.8.1.2 Versões Novas versões do sistema são lançadas a cada ano, cada versão trás novas funcionalidades para o sistema. Na tabela 3 é possível visualizar as versões lançadas até o momento, juntamente com suas respectivas APIs.
Tabela 3 Versões do sistema Android e suas respectivas APIs.
Fonte: Wikipédia.
Versão Android 1.5 Android 1.6 Android 2.1 Codinome Cupcake Donut Eclair APIs 5, 6 e 7 3.8.1.3 Requisitos para o desenvolvimento Para desenvolver aplicativos para Android você precisa de um computador rodando o sistema operacional Windows, Linux ou Mac OS X. Por ser multi-plataforma, o desenvolvimento para Android pode ser realizado utilizando os principais sistemas operacionais da atualidade.
Os seguintes softwares são necessários para desenvolver aplicativos para o sistema operacional Android: - Java SE Software Development Kit; - Eclipse para Java Developers; - Android SDK; O Android Development Kit (SDK) fornece as ferramentas que você precisa para desenvolver, testar e depurar aplicativos Android. Já o Android Development Tools Plugin (ADT) para o Eclipse permite que você use as ferramentas Android SDK para desenvolver aplicações Android no IDE Eclipse.
3.8.2 iOS iOS (antes chamado de iPhone OS) é um sistema operacional móvel da Apple Inc.
desenvolvido originalmente para o iPhone, também é usado em iPod touch, iPad e Apple TV. A Apple não permite que o iOS seja executado em hardware de terceiros.
3.8.2.1 Versões Novas versões foram adicionando diversas funcionalidades e recursos ao iOS. Como por exemplo, na versão iPhone OS 2, um dos principais destaques foi a Apple Store, a App Store deu aos usuários acesso a milhares de aplicativo desenvolvidos por terceiros.
Compatível com o iTunes e um ecossistema cuidadosamente trabalhado, a App Store empurrou o iPhone anos à frente da concorrência, ao oferecer inúmeras possibilidades para o iPhone.
Já o iOS 3 trouxe a possibilidade de, finalmente, cortar, copiar e colar. A precisão do GPS também foi aprimorada, e a Apple adicionou uma bússola magnética para o aplicativo iPhone Maps. A gravação de vídeo não tinha suporte no iOS até o lançamento do iOS 3. Porém, o iPhone 3GS foi o único dispositivo iOS que marcou o inicio da disponibilidade desse recurso.
3.8.2.2 Requisitos para o desenvolvimento Para fazer uso das ferramentas da Apple para desenvolvimento, é necessário ter um computador Mac. A partir disso, é possível ter acesso à ferramenta de desenvolvimento, documentação, exemplos de código, e fórum de discussão da Apple através de um cadastro no iPhone Developer Program, que em um primeiro momento pode ser feito gratuitamente, mas com o tempo sentirá necessidade do cadastro pago, que dará direito de testar o aplicativo desenvolvido em um aparelho real, e principalmente para publicar o mesmo na iTunes App Store.
Depois de cadastrado como desenvolvedor Apple, o usuário terá o direito ao download gratuito do iOS SDK, que nada mais é que um pacote com os softwares necessários para trabalhar com iOS, e fazem parte dele: - XCode: Ambiente de desenvolvimento; - Interface Builder: Para criação das interfaces do iPhone ou iPad; - Instruments: Ferramenta de análise de consumo de memória, desempenho, etc.
- iPhone Simulator: Ferramenta elaborada para ―simular‖ como o aplicativo vai ser executado nos dispositivos iPhone ou iPad. Mas, é de extrema importância que a aplicação também seja testado em um aparelho real, pois o simulador o utiliza o processamento e memória da máquina. Desta forma, dificilmente será possível visualizar problemas de consumo de memória ou de lentidão na abertura do aplicativo, problemas facilmente percebidos quando a aplicação é executada em um aparelho real.
3.8.3 Windows Phone Windows Phone é um sistema operacional móvel, desenvolvido pela Microsoft, atualmente na sua versão 8 (a versão 8.1 de testes está disponível apenas para desenvolvedores), sucessor da plataforma Windows Mobile, (apesar de totalmente incompatível com esta) que, ao contrário do predecessor, é focado no mercado consumidor, em vez do mercado empresarial.
3.8.3.1 História Foi lançado na Europa, Austrália e Singapura no dia 21 de outubro de 2010, nos EUA e Canadá no dia 8 de novembro, no México no dia 24 do mesmo mês e, no início de 2011, na Ásia.
O principal problema do Windows Phone era a falta de aplicações. Porém, hoje as principais aplicações do mercado já estão disponíveis na loja de aplicativos, antiga Marketplace. Mas, ainda assim, alguns usuários se desencorajam a comprar um aparelho com o sistema por não ter tantos aplicativos quanto seus principais concorrentes; Android e iOS (WIKIPÉDIA, 2014).
3.8.3.2 Versões O trabalho para uma grande atualização do sistema operacional Windows Mobile começou ainda em 2004, sob o nome de projeto "Photon", mas o seu desenvolvimento era lento, tendo sido cancelado. Em 2008, a Microsoft reorganizou a equipe de desenvolvimento e começou a trabalhar num novo sistema operacional. Este novo produto era para ser lançado em 2009 como "Windows Phone", mas diversos atrasos obrigaram a Microsoft a desenvolver o Windows Mobile 6.5 como um lançamento intermédio.
Windows Phone foi desenvolvido rapidamente. Uma das consequências de tal foi a não possibilidade de executar os programas do antigo Windows Mobile no novo sistema.
Tabela 5 Versões do sistema operacional Windows Phone.
Fonte: Wikipédia.
3.9 Considerações Finais do Capítulo Nesse capítulo foram apresentadas as principais tecnologias utilizadas nesse projeto.
Também foram apresentadas aplicações que fazem uso dessas tecnologias para os mais diversos fins. Além disso, foram apresentadas diferentes formas de desenvolver aplicações para dispositivos móveis.
4 ARQUITETURA PROPOSTA O projeto desenvolvido e descrito nesse trabalho, tem como propósito, oferecer um meio para que qualquer cidadão possa reportar incidentes ambientais. Como citado no capítulo 3, utilizando recursos da web 2.0, é possível identificar diversas alternativas viáveis para que seja realizada essa tarefa.
Iniciativas como a do Instituto Biota, mesmo que sem pesquisas acadêmicas comprovando a sua eficácia, ajudam a preservar o meio ambiente e comprovam que a população é um grande aliado e monitor em potencial. A partir disso, criar um modelo de aplicação contributiva na qual a população agirá como monitor e fiscalizador, contribuindo com órgãos governamentais, institutos e ONGs pode ser uma alternativa efetiva e de baixo custo. Visto que, ao utilizar produtos de consumo, como smartphones e tablets, a aplicação poderá ser apoiada pela população sem gerar custos.
Nesse capítulo estão listadas as decisões de projeto e seus requisitos. Também estão listados os diagramas de caso de uso e sequência referentes à modelagem do sistema.
4.1 Decisões de projeto Nessa seção estarão dispostas as decisões que foram tomadas no período que precede o desenvolvimento do projeto, assim como as que foram tomadas no decorrer do seu desenvolvimento.
4.1.1 Sistema operacional A efetividade da aplicação está diretamente relacionada ao número de usuários da mesma. Sendo assim, é importante que o sistema operacional da aplicação móvel esteja sendo executado pela maior quantidade de dispositivos possível. Baseado nisso, o sistema operacional inicial da aplicação é o Android. Como foi possível ver no capítulo 3, o sistema operacional da Google é, atualmente, a plataforma que retém o maior número de usuários.
4.1.2 Tipo de aplicação Como visto no capítulo 3, há outros sistemas operacionais com uma grande fatia no mercado atual. Para que os usuários desses sistemas operacionais também possam se tornar usuários da aplicação, o modelo de desenvolvimento proposto é o de uma aplicação hibrida.
Desta forma, tornando a aplicação rapidamente adaptável para outros sistemas operacionais em evidencia. O framework utilizado pelo projeto é o Phonegap. O Phonegap possui diversos plug-ins na internet. Esses plug-ins podem ser baixados e adicionados ao projeto, agilizando o desenvolvimento da aplicação proposta.
4.1.3 Serviço de mapas O WMS escolhido para o projeto é o Google Maps, serviço de mapas online da Google, como já citado anteriormente no capítulo 3, é o serviço de mapas mais completo da atualidade. O serviço conta com uma vasta documentação e pode ser facilmente agregado ao Phonegap.
4.1.4 Arquitetura cliente-servidor Ao ser necessário o armazenamento de informações em um banco de dados, foi necessário determinar uma maneira de inserir e obter essas informações. A partir disso, a aplicação seguirá uma arquitetura cliente-servidor, arquitetura caracterizada justamente por esse tipo funcionamento.
Nessa arquitetura, a aplicação cliente realiza requisições ao servidor através da rede, como mostra a Figura 26.
Figura 26 Arquitetura cliente-servidor Fonte: Wikipédia As requisições da aplicação cliente e respostas do servidor estarão formatadas em um protocolo de comunicação. Esse protocolo deverá ser interpretado por ambas às partes envolvidas na iteração.
4.2 Modelagem do sistema Na especificação do sistema foram empregados conceitos da orientação a objetos e também da Unified Modeling Language (UML) para a criação do diagrama de casos de uso e de sequência.
4.2.1 Diagrama de casos de uso O aplicativo possui seis cenários de caso de uso, esses cenários são ilustrados na Figura 27.
Figura 27 Diagrama de casos de uso.
4.2.1.1 Relatar Incidente O quadro a seguir apresenta o detalhamento do caso de uso Relatar Incidente. Esse caso de uso representa a inserção de um novo incidente no banco de dados do aplicativo.
4.2.1.2 Visualizar incidentes 4.2.1.3 Apoiar Incidente 4.2.1.4 Comentar Incidente O caso de uso Comentar incidente, assim como o Apoiar incidente, é uma extensão do caso de uso Visualizar incidentes.
4.2.1.5 Resolver Incidente Por fim, a resolução de um incidente também é uma extensão do caso de uso Visualizar incidente.
4.2.1.6 Editar Dados 4.2.2 Diagramas de Sequência Os diagramas de sequência são utilizados para representar a sequência de processos (mais especificamente, de mensagens passadas entre objetos), num programa de computador.
Nessa seção estão listados os diagramas de sequência dos componentes da aplicação.
4.2.2.1 Relatar Incidente A Figura 28 apresenta o diagrama de sequência do caso de uso Relatar Incidente.
Figura 28 Diagrama de Sequência Relatar Incidente 4.2.2.2 Visualizar Incidente Na Figura 29 encontra-se o diagrama de sequência do caso de uso Visualizar Incidente.
Figura 29 Diagrama de Sequência Visualizar Incidente 4.2.2.3 Apoiar Incidente A Figura 30 representa o diagrama de sequência do caso de uso Apoiar Incidente, extensão do caso de uso Visualizar Incidente.
Figura 30 Diagrama de Sequência Apoiar Incidente 4.2.2.4 Comentar Incidente A Figura 31 representa o diagrama de sequência do caso de uso Comentar Incidente, extensão do caso de uso Visualizar Incidente.
Figura 31 Diagrama de Sequência Comentar Incidente 4.2.2.5 Resolver Incidente Por fim, a Figura 32 representa o diagrama de sequência do caso de uso Resolver Incidente, extensão do caso de uso Visualizar Incidente.
Figura 32 Diagrama de Sequência Resolver Incidente 4.2.3 Modelo entidade-relacionamento O Modelo Entidade Relacionamento é um modelo conceitual utilizado na Engenharia de Software para descrever os objetos (entidades) envolvidos em um domínio de negócios, com suas características (atributos) e como elas se relacionam entre si (relacionamentos).
Figura 33 Modelo ER do banco de dados 4.2.3.1 Usuário A tabela Usuário, assim como a tabela Incidente, está relacionada com diversas outras tabelas, como exibido na Figura 34. Ela é responsável por armazenar as informações básicas do usuário, como nome, e-mail e identificar do dispositivo móvel.
Figura 34 Tabela Usuário 4.2.3.2 Incidente A tabela Incidente armazena as principais informações referentes aos incidentes registrados no aplicativo. Dados como, título, descrição, latitude, longitude e a data de inserção do incidente fazem parte desta tabela, na Figura 35 é possível visualizar também o tipo de cada dado.
Figura 35 Tabela Incidente 4.2.3.3 Mídia A tabela Mídia tem uma relação de dependência com a tabela Incidente. Visto que, ela armazena o conteúdo de mídia que foi submetido com o incidente. Para isso, a tabela armazena o nome do arquivo no campo url. Como exibido na Figura 36, o campo url aceita um valor de até 128 caracteres. Esse valor é gerado aleatoriamente pela aplicação cliente, que previamente verifica se há algum outro arquivo com o mesmo nome, isso impossibilita que sejam armazenadas mais de uma mídia com o mesmo valor de referência no campo url.
Figura 36 Tabela Mídia 4.2.3.4 Categoria A tabela Categoria é de extrema importância para a organização da aplicação, a partir dela é possível filtrar os incidentes registrados no aplicativo. A tabela conta com o campo título, responsável pela identificação da categoria para o usuário o campo id, chave primária e utilizava em buscas no banco de dados. Por fim, o campo ícone, esse atributo armazena o endereço de acesso para a imagem representativa da categoria.
Figura 37 Tabela Categoria 4.2.3.5 Apoiar A tabela Apoiar armazena cada apoio de um usuário em um determinado incidente.
Com ela, é possível filtrar os incidentes, de modo a visualizar os incidentes de maior relevância dada à quantidade de apoio, por parte dos usuários da aplicação, que esse incidente recebeu. A tabela está relacionada com as tabelas Incidente e Usuário, essa relação é necessária para que seja possível identificar o incidente e o usuário que o apoiou. Como é possível ver na Figura 38, a tabela armazena a data em que o registro ocorreu.
Figura 38 Tabela Apoiar 4.2.3.6 Resolver A tabela Resolver registra as resoluções dos incidentes armazenados na aplicação. A tabela está relacionada com as tabelas Incidente e Usuário, para que assim seja possível identificar o incidente e o usuário que está inserindo a sua resolução. Como exibido na Figura 39, a tabela conta com o campo descrição, esse campo registra informações adicionais ao registro de resolução. O campo data registra a data em que o incidente foi dado como resolvido na aplicação.
Figura 39 Tabela Resolver 4.2.3.7 Comentário Na tabela Comentário estão registrados os comentários que os usuários da aplicação realizam em cada incidente. Ela se relaciona com as tabelas Usuário e Incidente. Os comentários têm o objetivo de agregar informação ao incidente e proporcionar a aprendizagem e a troca de informação entre os usuários do aplicativo. Como mostra a Figura 40, cada comentário é composto por um identificador único, o texto e a data em que foi inserido.
Figura 40 Tabela Comentário 4.3 Considerações Finais do Capítulo Nesse capítulo foi abordado o modelo de aplicação desenvolvido, justificando sua arquitetura e apresentando as decisões de projeto. Também foi apresentada a modelagem do sistema utilizando os diagramas de Casos de Uso e Sequência, da UML.
Por fim, foi apresentado o modelo de entidade-relacionamento contendo a estrutura geral e das tabelas utilizadas na aplicação.
5 DESENVOLVIMENTO 5.1 Comunicação A conexão entre o cliente e o servidor é efetuada via socket. Os parâmetros para a conexão são o IP do servidor e a porta de conexão, como exibido na Figura 41.
Figura 41 Função para a conexão entre o cliente e o servidor Na linha 11 da Figura 41 inicia-se a função connect, que utiliza o plugin de socket para efetuar uma conexão entre o cliente e o servidor. Na linha 12 está a chamada para a função do plugin, ela conta com quatro parâmetros. O primeiro é a função que será chamada caso a conexão seja estabelecida com sucesso. O segundo representa a função que deverá ser chamada caso haja algum erro durante a conexão. O terceiro é o IP do servidor. Por fim, o quarto é a porta de conexão, neste caso, a porta 52000.
5.1.1 Protocolo Ao optar pelo desenvolvimento de uma aplicação híbrida, foi necessário identificar uma maneira de comunicação entre o cliente e o servidor que fosse efetiva e independente de plataforma. Desta forma, foi criado um protocolo de comunicação baseado em base64 e XML.
5.1.1.1 Base64 Base64 é um método frequentemente utilizado quando existe a necessidade de transferir e armazenar dados binários para um dispositivo designado para trabalhar com dados textuais (HATAE, 2012). Sendo assim, utilizar base64 é a forma mais prática de realizar a transferência de arquivos de modo independente, ou seja, sem utilizar recursos da linguagem nativa do dispositivo.
5.1.1.2 XML O XML é um formato para representação de documentos em computador criado pelo W3C. Seu princípio é muito simples, qualquer um pode inventar marcações que, por sua vez, adicionam semântica a um texto (ALMEIDA, 2002). A linguagem XML consolidou-se rapidamente como um padrão universal para troca de informações na web, sendo amplamente utilizado em conjunto com o base64.
5.1.1.3 Funcionamento Tanto o cliente, quanto o servidor se comunicam de forma semelhante. O cliente é capaz de formatar arquivos XML e codificá-los em base64 e também de receber arquivos codificados e lê-los, assim como o servidor. Sendo assim, quando o cliente deseja realizar uma requisição ao servidor, a aplicação irá formatar a requisição em um arquivo XML, posteriormente codificá-la em base64 e enviar ao servidor, como mostra a Figura 42.
Figura 42 Comunicação cliente-servidor O servidor, por sua vez, recebe o arquivo codificado, descodifica-o e realiza a leitura do XML, verificando qual ação deve ser realizada.
5.1.1.4 Cliente No cliente a função Realizar Requisição é a responsável por formatar o arquivo XML que deverá ser enviado ao servidor. Como exibido na linha 123 da Figura 43, a função recebe três parâmetros. O primeiro é o objeto com os valores a serem enviados ao servidor, o segundo é a tabela que receberá a consulta e o terceiro é o tipo de consulta que deverá ser realizada, ou seja, nos padrões SQL, os subconjuntos DML e DQL, respectivamente Linguagem de Manipulação de Dados e Linguagem de Consulta de Dados, esses subconjuntos englobam os comandos de seleção, inserção, alteração e remoção de dados do banco.
Ainda na Figura 43, o XML é formatado entre as linhas 124 e 135. Sendo que, há uma estrutura de repetição entre as linhas 129 e 131, essa estrutura é responsável por inserir no XML os dados que serão enviados ao servidor.
Figura 43 Realizar Requisição, função javascript que cria o arquivo XML e o envia em base 64 para o servidor O arquivo formatado pela função Realizar Requisição ficará estruturado de forma semelhante ao arquivo exibido na Figura 44. Podemos ver na linha 2 que o arquivo em questão é uma inserção. Já na linha 3 se encontra a tabela que irá receber a consulta, neste caso, a tabela Incidente. Entre as linhas 5 e 13 estão os valores do incidente que está sendo inserido na tabela.
Figura 44 Arquivo XML após receber os dados na função Realizar Requisição Por fim, o arquivo exibido na Figura 44 será criptografado (linha 136 da Figura 44) e enviado ao servidor (linha 137 da Figura 44).
5.1.1.5 Servidor No servidor, primeiramente é utilizada uma estrutura que define o protocolo (linha 4 da Figura 45) utilizado na troca de informações com o cliente. A estrutura contém variáveis relativas aos dados que fazem parte do incidente (entre as linhas 7 e 20 da Figura).
Figura 45 Estrutura que define o protocolo utilizado na troca de informação de incidentes A função xmlencode (Figura 46) é responsável por converter dados recebidos anteriormente do banco de dados e estruturados pelo tipo ―packet‖ (definido na Figura anterior), em um arquivo XML.
Esta função recebe como parâmetros, uma estrutura contendo os dados do incidente e um valor inteiro que informa a quantidade de dados que foram recebidos. Inicialmente a função irá estruturar o XML definindo o elemento raiz e elementos ―pai‖ e seus respectivos ―filhos‖. Posteriormente, um laço de repetição começa a extrair as informações da estrutura (entre as linhas 35 e 59 da Figura 46), referentes ao primeiro parâmetro, e as organiza como foram definidos no laço. Após toda a informação ser anexada ao arquivo, a função salva o XML em disco para um acesso posterior e retorna 0 para informar o sucesso da operação.
A função xmldecode (linha 67 da Figura) é responsável por extrair informações recebidas de um arquivo XML e organiza-las em uma estrutura.
Figura 47 Função responsável pela extração de informações do arquivo XML A partir da linha 178 da Figura, um laço de repetição atribui às informações extraídas de cada tag do arquivo XML em suas respectivas posições na estrutura (Figura 48).
Ao final da leitura a função retorna uma estrutura com todos elementos encontrados no arquivo XML (Figura 49).
5.2 Funcionalidades Nessa seção estão os códigos fonte das principais funcionalidades da aplicação cliente. Os trechos de códigos são explicados utilizando como base a numeração das linhas de código.
5.2.1 Solicitação de incidentes ao servidor Como previamente descrito, a solicitação de incidentes ao servidor ocorre de duas formas: quando o usuário inicializa a aplicação e durante a navegação do caso de uso Explorar mapa. A requisição de incidentes é baseada na localização do dispositivo, no caso da inicialização da aplicação, ou no centro do mapa, no caso da navegação no caso de uso Explorar mapa.
Ao receber a solicitação de incidentes, o servidor realiza uma busca no banco de dados utilizando como parâmetros de seleção as coordenadas recebidas no XML (linhas 52 e 53 da Figura 50).
Figura 50 Função JavaScript que realiza a requisição de incidentes 5.2.2 Relatar incidente Descrito anteriormente no caso de uso Relatar Incidente, o relato de incidentes é representado pela função inserir Incidente da Figura. A função insere os valores fornecidos pelo usuário em um objeto (entre as linhas 145 e 151). Logo após, é verificado se o usuário adicionou alguma imagem ao incidente (entre as linhas 152 e 154). Por fim, os dados são validados (entre as linhas 155 e 157) e enviados ao servidor, se houver algum erro nas informações fornecidas pelo usuário, como a falta de título, a aplicação irá notificar o usuário (entre as linhas 157 e 159 da Figura 51).
Figura 51 Função JavaScript para relatar incidentes 5.3 Considerações Finais do Capítulo Nesse capítulo foi apresentado o protocolo de comunicação e as tecnologias que o compõem. Foram apresentados também os principais trechos de código que criam e interpretam este protocolo. Por fim, foi apresentado trechos de código das principais funcionalidades da aplicação.
6 RESULTADOS Neste capítulo será abordado a interface das funcionalidades descritas no capítulo anterior, assim como os resultados obtidos ao utilizá-las.
6.1 Interface A estrutura da aplicação consiste em quatro componentes básicos. A navegação entre esses componentes é realizada através de um menu (Figura 52), localizados na parte inferior de todos os componentes da aplicação.
Figura 52 Componentes da interface cliente, da esquerda para a direita: Inicial, Explorar Incidentes, Inserir Incidente, Meus Dados. O botão em verde representa o componente ativo na tela do usuário.
A seguir são disponibilizadas informações referentes aos componentes da aplicação cliente.
6.1.1 Visualizar incidentes A aplicação permite que os incidentes sejam visualizados em duas formas: através de uma listagem e através do mapa. Sendo que, a visualização de incidentes no modo listagem, interface inicial da aplicação, facilita a visualização de todas as informações disponibilizadas pelo usuário que inseriu o incidente. Por outro lado, a visualização no mapa exibe, inicialmente, somente o marcador de categoria do incidente, sendo possível visualizar maiores informações do incidente ao pressionar seu respectivo marcador.
Mapa Ao acessar as interfaces de visualização de incidentes, o usuário poderá iniciar os casos de uso que são extensões de Visualizar Incidente. A seguir serão listadas as interfaces referentes a esses casos de uso.
6.1.1.1 Resolver Incidente Ao pressionar a opção Resolver Incidente, uma pequena janela é aberta no centro da tela do usuário. Como mostra a Figura 54, a tela contém um título e um campo de entrada de texto. Nesse campo são solicitadas informações adicionais referentes à resolução do incidente.
6.1.1.2 Apoiar Incidente 6.1.1.3 Comentar incidente 6.1.2 Relatar incidente Ao preencher todas as informações solicitadas, o usuário deverá pressionar o botão Enviar.
(b) Interface de confirmação do envio de incidente.
Após o envio do incidente, por parte da aplicação (Figura 58(a)), o servidor irá receber os dados e retornar uma mensagem de confirmação (Figura 58 (b)).
6.1.3 Meus dados 6.2 Comunicação cliente servidor A comunicação cliente-servidor é realizada em diferentes processos da aplicação. A quantidade de informação transferida em cada um desses processos apresenta diferentes tamanhos. O número de conexões necessárias para a execução desses processos também apresenta diferentes valores, de acordo com a sua complexidade.
6.2.1 Conexões necessárias por ação Por não ser necessária conexão constante entre a aplicação e o servidor, somente será solicitada a conexão entre os dispositivos quando houver a necessidade de envio, ou recebimento de informação por parte do cliente. Nessa seção é possível visualizar a quantidade de conexões necessárias para as principais ações da aplicação.
6.2.1.1 Visualizar incidente Na visualização de incidente, a conexão é encerrada logo após o servidor enviar o incidente solicitado cliente.
Tabela 6 Conexões necessárias ao visualizar incidente solicitado.
Total: 1 conexão.
6.2.1.2 Apoiar incidente No apoio a incidente, a conexão é encerrada no momento em que o servidor confirma ao cliente o recebimento de sua solicitação.
Tabela 7 Conexões necessárias ao apoiar incidente 6.2.1.3 Resolver incidente No processo de resolução de incidente, a conexão é encerrada no momento em que o servidor envia ao cliente a confirmação da inserção da resolução do incidente no banco de dados.
6.2.1.5 Reportar incidente Tabela 10 Conexões necessárias para reportar incidentes 6.2.1.6 Meus dados 6.3 Considerações Finais do Capítulo Nesse capítulo foi apresentada a interface da aplicação cliente, com imagens e descrição de cada funcionalidade presente no aplicativo. Foi mostrado também o número de conexões necessárias para efetuar cada ação dentro do aplicativo.
7 CONCLUSÕES O presente trabalho apresentou uma revisão bibliográfica a respeito de diversos tipos de incidentes ambientais. Também foram apresentadas as tecnologias móveis disponíveis atualmente, métodos de desenvolvimento e trabalhos que incentivam a participação da população em prol do meio ambiente. Entretanto, neste trabalho optou- se pela criação de uma ferramenta independente e com foco definido em incidentes ambientais, algo inexistente no mercado atual de aplicações móveis, a qual irá fornecer um meio para que qualquer cidadão possa relatar incidentes ambientais que ocorram a sua volta.
Embora a aplicação ainda não tenha sido disponibilizada no Google Play, serviço de hospedagem de aplicativos da Google, ela é capaz de fornecer os serviços para a qual foi projetada. O servidor está armazenado na FURG e disponível para acesso externo. A aplicação cliente pode ser instalada em dispositivos com o sistema operacional Android e é capaz de inserir e visualizar incidentes ambientais, satisfazendo assim, o objetivo geral dessa dissertação.
Somente após um breve período de utilização posterior ao seu lançamento poderão ser realizados estudos quanto à efetividade da aplicação. Porém, tendo como base as aplicações citadas no capítulo 3, é possível assumir que a aplicação poderá contar com o apoio popular e contribuir para o reporte de incidentes ambientais.
7.1 Dificuldades Encontradas As principais dificuldades encontradas no projeto estão relacionadas à volatilidade das tecnologias envolvidas e também a pobre documentação da rede 3G.
7.1.1 Volatilidade da área de dispositivos móveis A área de dispositivos móveis é extremamente volátil. No primeiro semestre de 2013, período no qual o projeto estava sendo idealizado, pouco se falava em frameworks para aplicações híbridas. A partir disso, a aplicação seria nativa para o sistema operacional Android. Porém, muitas inovações surgiram ao passar destes três semestres, o estado da arte mudou e novas ferramentas tornaram possível o desenvolvimento de uma aplicação híbrida com funcionamento e estrutura de uma aplicação nativa.
Para que o projeto estivesse o mais próximo do estado da arte possível ao ser finalizada a dissertação, foi descartado o projeto desenvolvido em Java, linguagem nativa do Android, e foi iniciado um novo projeto utilizando o framework Phonegap.
7.1.2 Rede 3G A falta de documentação relacionada ao bloqueio de portas para a utilização da rede 3G foi um fator que gerou complicações na fase de desenvolvimento da aplicação. Por estar localizado dentro de uma universidade, o servidor estava utilizando a rede da universidade e limitado a acesso interno. Visto que, a universidade utiliza um proxy e impõe limites ao acesso externo. Desta forma, só foi detectado que havia bloqueios em relação ao uso de socket na rede 3G na fase de ajustes da aplicação.
Sendo necessária a troca de tecnologia em uma fase na qual o desenvolvimento já estava avançado.
7.2 Perspectiva de Continuidade Após a finalização da dissertação, o projeto estará em contínuo progresso, com novas atualizações e funcionalidades. Desta maneira, passando a agregar mais possibilidades.
7.2.1 Substituição do Socket Substituir a utilização de socket por outra tecnologia para efetuar a comunicação. No Brasil, assim como em outros países, há bloqueios e limitações na utilização da rede 3G.
Desta forma, a utilização de sockets para a conexão entre cliente e servidor fica limitado a rede WiFi.
7.2.1.1 WebSocket O WebSocket possibilita a comunicação constante entre o cliente e o servidor, funcionando de maneira semelhante ao Socket. Websocket foi desenvolvido para ser utilizado em navegadores web e servidores web, mas pode ser usado por qualquer cliente ou aplicação servidor. O protocolo Websocket é um protocolo independente baseado em TCP.
WebSocket é compatível com dispositivos móveis e Phonegap. Desta forma, pode ser utilizado para contornar a impossibilidade de uso do Socket na rede 3G. Já que, por ter sido desenvolvido para a web, o WebSocket não tem limitações para o seu uso na rede 3G.
A substituição do Socket por WebSocket está sendo realizada e estará concluída em data posterior a defesa dessa dissertação.
7.2.2 Aplicação cliente em outros sistemas operacionais Por ter sido desenvolvido utilizando o framework Phonegap, a aplicação cliente pode ser rapidamente adaptada para outros sistemas operacionais, como Windows Phone.
7.2.3 Aperfeiçoamento da aplicação servidor A aplicação servidor realiza alterações e buscas no banco de dados baseado em um protocolo. Sendo assim, é possível alterá-la para que ele trabalhe como um web service.
Fornecendo incidentes para outras aplicações que operem de acordo com o protocolo.
Isso permitirá que órgãos ambientais, agências reguladoras e outras entidades interessadas possam utilizar informações geradas diretamente do banco de dados hospedado no servidor.
7.2.4 Adição de filtros e funções administrativas Adicionar filtros de interesse aliados a funções exclusivas para órgãos e agências reguladoras oferecerá a essas entidades melhor controle para o conteúdo inserido na aplicação.
7.3 Publicações Realizadas O artigo AMBCARE – MONITORAMENTO, INFORMAÇÃO E CONSCIENTIZAÇÃO AMBIENTAL A NÍVEL SOCIAL foi aprovado no NAVCOMP - II Simpósio em Computação e Automação para Indústria Naval e Offshore realizado no Centro Integrado de Desenvolvimento do Ecossistema Costeiro e Oceânico - CIDEC-SUL durante a Feira do Polo Naval RS que ocorreu em Rio Grande – 11 a 13 de março de 2014.
7.3.1 Submissões Previstas Serão realizadas submissões nas áreas de tecnologia da informação, engenharia de software e meio ambiente. Com a versão inicial da aplicação publicada, será possível submeter artigos com grande conteúdo técnico a respeito do desenvolvimento da aplicação.
